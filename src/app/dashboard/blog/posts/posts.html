<div class="w-full h-full overflow-x-hidden font-[IRANSans] flex flex-col p-10">

<!--  ناوبار-->
  <app-dashnav [addReq]="true" title="لیست مقالات"></app-dashnav>



  <div class="flex flex-col gap-5 w-full">
    @if (isLoading()) {
      <p>در حال لودینگ</p>
    } @else {

      <p-table
        [value]="posts"
        [paginator]="true"
        [rows]="10"
        responsiveLayout="scroll"
        styleClass="p-datatable-gridlines py-10">

        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="id">شناسه <p-sortIcon field="id"></p-sortIcon></th>
            <th pSortableColumn="title">عنوان <p-sortIcon field="title"></p-sortIcon></th>
            <th pSortableColumn="author">نویسنده <p-sortIcon field="author"></p-sortIcon></th>
            <th pSortableColumn="created_at">تاریخ <p-sortIcon field="created_at"></p-sortIcon></th>
            <th>ویرایش</th>
          </tr>
        </ng-template>

        <ng-template pTemplate="body" let-post>
          <tr>
            <td>{{ post.id }}</td>
            <td>{{ post.title }}</td>
            <td>{{ post.author }}</td>
            <td>{{ post.created_at }}</td>
            <td class="">
              <img [routerLink]="'/dashboard/editblog/'+ post.slug" src="svg/Pen%20New%20Round.svg" class="hover:scale-105 transition-all duration-300 cursor-pointer w-15 h-15">
            </td>
          </tr>
        </ng-template>

        <ng-template pTemplate="emptymessage">
          <tr><td colspan="6">هیچ پستی موجود نیست</td></tr>
        </ng-template>
      </p-table>


    }
  </div>

</div>
